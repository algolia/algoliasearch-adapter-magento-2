<?php
/**
 * Algolia backend toolbar sorter
 *
 * @var $block   \Magento\Catalog\Block\Product\ProductList\Toolbar
 * @var $escaper \Magento\Framework\Escaper
 * @var $sorter  \Algolia\SearchAdapter\ViewModel\Sorter
 */


$sorter = $block->getData('algolia_sorter');

$options = $sorter->getSortingOptions();
?>

<div class="toolbar-sorter sorter">
    <label class="sorter-label" for="sorter"><?= $escaper->escapeHtml(__('Sort By')) ?></label>
    <select id="sorter" data-role="sorter" class="sorter-options">
        <?php foreach ($sorter->getSortingOptions() as $sortingOption): ?> :?>
            <?php $_key = $sortingOption['key']; ?>
            <option value="<?= $escaper->escapeHtmlAttr($_key) ?>"
                <?php if ($block->isOrderCurrent($_key)) :?>
                    selected="selected"
                <?php endif; ?>
            >
                <?= $escaper->escapeHtml(__($sortingOption['label'])) ?>
            </option>
        <?php endforeach; ?>
    </select>
</div>
